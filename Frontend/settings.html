<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finoria - Settings</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link rel="stylesheet" type="text/css" href="settingsStyle.css" />
  </head>
  <body>
    <header>
      <nav>
        <a href="homePage.html" class="logo">Finoria</a>
        <ul class="nav-links">
          <li><a href="#">Dashboard</a></li>
          <li><a href="#">Transactions</a></li>
          <li><a href="#">Reports</a></li>
          <li><a href="settings.html">Settings</a></li>
          <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
          <li><a href="#" id="logout">Logout</a></li>
        </ul>
      </nav>
    </header>

    <section class="settings-content">
      <h1>Settings</h1>

      <!-- Theme Section -->
      <div class="settings-section">
        <h2>Theme</h2>
        <label for="theme-toggle">
          <input type="checkbox" id="theme-toggle" /> Dark Mode
        </label>
      </div>

      <!-- Notification Preferences Section -->
      <div class="settings-section">
        <h2>Notification Preferences</h2>
        <label for="email-notifications">
          <input type="checkbox" id="email-notifications" /> Email Notifications
        </label>
      </div>

      <!-- Account Deletion Section -->
      <div class="settings-section">
        <h2>Account Settings</h2>
        <button class="delete-btn" onclick="confirmDelete()">Delete Account</button>
      </div>
    </section>

    <script>
      // Load the dark mode preference from localStorage and apply it
      if (localStorage.getItem("darkMode") === "enabled") {
        document.body.classList.add("dark-mode");
        document.getElementById("theme-toggle").checked = true;
      }

      // Theme toggle functionality
      document.getElementById("theme-toggle").addEventListener("change", function () {
        const isDarkMode = this.checked;
        if (isDarkMode) {
          document.body.classList.add("dark-mode");
          localStorage.setItem("darkMode", "enabled"); // Save preference to localStorage
        } else {
          document.body.classList.remove("dark-mode");
          localStorage.setItem("darkMode", "disabled"); // Save preference to localStorage
        }
      });

      // Handle the confirmation for account deletion
      function confirmDelete() {
        if (confirm("Are you sure you want to delete your account? This action cannot be undone.")) {
          // Proceed with account deletion logic
          alert("Account deleted!");
          // Optionally: Redirect to sign-in page after deletion
          window.location.href = "signin.html";
        }
      }

      // Logout functionality
      document.getElementById("logout").addEventListener("click", function (event) {
        event.preventDefault();
        localStorage.removeItem("username");
        window.location.href = "signin.html";
      });
    </script>
  </body>
</html>
